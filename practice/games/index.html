<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Practice - Wick Learning</title>
  <link href="/learningwithwick/practice/games/style.css" rel="stylesheet" type="text/css" />

  <link rel='icon' type='image/x-icon' href='/learningwithwick/media/logo.png'>
  <script src="https://kit.fontawesome.com/0303383be9.js" crossorigin="anonymous"></script>
</head>

<body>
  <div class='loading-overlay' id='loading-overlay'></div>

  <div class='main-container'>

    <h1 class='practice-games-title'>
      Practice Games
    </h1>

    <div class='ttcont'>
      <div class="tooltip-container" data-chapter='1' data-unlocked='true' id='chapter-1-quiz'>
        <span class="tooltip">Score 80% or higher on the previous quiz to unlock.</span>
      </div>
      <div class="tooltip-container" data-chapter='2' data-unlocked='false' id='chapter-2-quiz'>
        <span class="tooltip">Score 80% or higher on the previous quiz to unlock.</span>
      </div>
      <div class="tooltip-container" data-chapter='3' data-unlocked='false' id='chapter-3-quiz'>
        <span class="tooltip">Score 80% or higher on the previous quiz to unlock.</span>
      </div>
      <div class="tooltip-container" data-chapter='4' data-unlocked='false' id='chapter-4-quiz'>
        <span class="tooltip">Score 80% or higher on the previous quiz to unlock.</span>
      </div>
      <div class="tooltip-container" data-chapter='5' data-unlocked='false' id='chapter-5-quiz'>
        <span class="tooltip">Score 80% or higher on the previous quiz to unlock.</span>
      </div>
      <div class="tooltip-container" data-chapter='6' data-unlocked='false' id='chapter-6-quiz'>
        <span class="tooltip">Unlock all previous quizzes to continue to the next section.</span>
      </div>
    </div>

    <div id="cards">
      <div class="card" data-chapter='1'>
        <div class="card-content">
          <div class="card-image">
            <i class='fa-solid fa-id-card'></i>
          </div>
          <div class="card-info-wrapper">
            <div class="card-info">
              <i class="fa-classic fa-star" id='star'></i>
              <div class="card-info-title">
                <h3 class='title'>Chapter 1 Quiz</h3>
                <h4 class='description'>Permits, Drivers Licenses, & Organ Donation</h4>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="card" data-chapter='2'>
        <div class='card-overlay'>
          <i class='fas fa-lock'></i>
        </div>
        <div class="card-content">
          <div class="card-image">
            <i class='fa-solid fa-helmet-safety'></i>
          </div>
          <div class="card-info-wrapper">
            <div class="card-info">
              <i class="fa-classic fa-star" id='star'></i>
              <div class="card-info-title">
                <h3 class='title'>Chapter 2 Quiz</h3>
                <h4 class='description'>Knowing your Vehicle & Vehicle Safety Features</h4>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="card" data-chapter='3'>
        <div class='card-overlay'>
          <i class='fas fa-lock'></i>
        </div>
        <div class="card-content">
          <div class="card-image">
            <i class="fa-solid fa-traffic-light"></i>
          </div>
          <div class="card-info-wrapper">
            <div class="card-info">
              <i class="fa-classic fa-star" id='star'></i>
              <div class="card-info-title">
                <h3 class='title'>Chapter 3 Quiz</h3>
                <h4 class='description'>Traffic Signs, Lights, and Lane Markings</h4>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="card" data-chapter='4'>
        <div class='card-overlay'>
          <i class='fas fa-lock'></i>
        </div>
        <div class="card-content">
          <div class="card-image">
            <i class="fa-solid fa-gauge"></i>
          </div>
          <div class="card-info-wrapper">
            <div class="card-info">
              <i class="fa-classic fa-star" id='star'></i>
              <div class="card-info-title">
                <h3 class='title'>Chapter 4 Quiz</h3>
                <h4 class='description'>Speed Laws, Driver Responsibility, and Lane Changes</h4>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="card" data-chapter='5'>
        <div class='card-overlay'>
          <i class='fas fa-lock'></i>
        </div>
        <div class="card-content">
          <div class="card-image">
            <i class="fa-solid fa-triangle-exclamation"></i>
          </div>
          <div class="card-info-wrapper">
            <div class="card-info">
              <i class="fa-classic fa-star" id='star'></i>
              <div class="card-info-title">
                <h3 class='title'>Chapter 5 Quiz</h3>
                <h4 class='description'>No description available at this time.</h4>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="card" data-chapter='6'>
        <div class='card-overlay'>
          <i class='fas fa-lock'></i>
        </div>
        <div class="card-content">
          <div class="card-image">
            <i class="fas fa-graduation-cap"></i>
          </div>
          <div class="card-info-wrapper">
            <div class="card-info">
              <i class="fa-classic fa-star" id='star'></i>
              <div class="card-info-title">
                <h3 class='title'>Next Level</h3>
                <h4 class='description'>You've aced those quizzes! Time to advance to the harder ones!</h4>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class='sidebar'>
      <div class='sidebar-logo'>
        <img class='logo' src='/learningwithwick/media/logo.png'>
        <h1>Wick</h1>
      </div>

      <div class='sidebar-buttons-container' id='sidebar-buttons-container'>
        <button class='sidebar-button' id='/learningwithwick/'>
          <i class="fa-regular fa-map"></i>
          Home
        </button>

        <button class='sidebar-button current' id='/learningwithwick/practice/games'
          style='background-color: transparent;'>
          <i class="fa-regular fa-flag"></i>
          Practice
        </button>

        <button class='sidebar-button' id='/learningwithwick/statistics/' style='background-color: transparent;'>
          <i class="fa-regular fa-chart-bar"></i>
          Statistics
        </button>

        <button class='sidebar-button' style='background-color: transparent;'>
          <i class='fa-classic fa-calendar'></i>
          Schedule
        </button>

        <button class='sidebar-button' style='background-color: transparent;'>
          <i class="fa-regular fa-pen-to-square"></i>
          Settings
        </button>

        <div class='sidebar-bottom'>
          <h4>
            Have any problems with Learning with Wick? Contact our customer support!
          </h4>

          <button id='support-button'>
            Contact Us
          </button>
        </div>
      </div>
    </div>

    <script>
      // Dynamically modify, in real time, the paths for GitHub pages.

      window.addEventListener('DOMContentLoaded', function () {
        if (!window.location.href.includes("github")) {
          function removeLearningWithWick(element, attribute) {
            let attrValue = element.getAttribute(attribute);
            if (attrValue && attrValue.includes("/learningwithwick")) {
              element.setAttribute(attribute, attrValue.replace("/learningwithwick", ""));
            }
          }

          const elements = document.querySelectorAll('[src], [href], [id]');

          elements.forEach(element => {
            if (element.hasAttribute('src')) {
              removeLearningWithWick(element, 'src');
            }

            if (element.hasAttribute('href')) {
              removeLearningWithWick(element, 'href');
            }

            if (element.hasAttribute('id')) {
              removeLearningWithWick(element, 'id');
            }
          });

          console.log("Paths modified for GitHub Pages");
        }
      });
    </script>

    <script>
      let storedStats = JSON.parse(localStorage.getItem('stats')) || {};
      let highestChapter = 1;

      document.getElementById('cards').onmousemove = e => {
        for (const card of document.getElementsByClassName('card')) {
          const rect = card.getBoundingClientRect(),
            x = e.clientX - rect.left,
            y = e.clientY - rect.top;

          card.style.setProperty('--mouse-x', `${x}px`);
          card.style.setProperty('--mouse-y', `${y}px`);
        };
      }

      (async () => {
        for (var i = 0; i < 9; i++) {
          console.log(i)
          let chapterId = 'chapter_' + i;

          if (!storedStats[chapterId] || storedStats[chapterId].unlocked == false) continue;
          highestChapter = (i + 1);
          console.log(chapterId, 'is unlocked; unlocking chapter ' + (i + 1))
          let cards = document.querySelectorAll('.main-container > #cards > .card');
          let tooltips = document.querySelectorAll('.tooltip-container');
          let card = Array.from(cards).filter(c => Number(c.getAttribute('data-chapter')) === (i + 1))[0];
          let tooltip = Array.from(tooltips).filter(c => Number(c.getAttribute('data-chapter')) === (i + 1))[0];
          let overlay = card.querySelector('.card-overlay');

          if (overlay) {
            overlay.remove();
          }

          if (tooltip) {
            tooltip.classList.add('inactive');
          }
        }
      })();

      (async () => {
        document.addEventListener('DOMContentLoaded', () => {
          let cards = document.querySelectorAll('.main-container > #cards > .card');
          let card = Array.from(cards).filter(c => Number(c.getAttribute('data-chapter')) === highestChapter)[0];
          let star = card.querySelector('.card-info-wrapper > .card-info > #star');
          star.className = 'fas fa-star';

          document.querySelectorAll('.tooltip-container').forEach(card => {
            console.log(card)
            card.addEventListener('click', () => {
              console.log('clicked')
              let chapter = Number(card.dataset.chapter);

              if (chapter == 1) {
                setTimeout(() => {
                  location.href = '/learningwithwick/practice/games/chapter/1/quiz/';
                }, 250);
              } else {
                let chapterId = 'chapter_' + (chapter - 1);
                console.log(chapterId)
                if (!storedStats[chapterId]) return;

                let chapterStats = storedStats[chapterId];

                if (chapterStats.unlocked == true) {
                  setTimeout(() => {
                    location.href = `/learningwithwick/practice/games/chapter/${chapter}/quiz/`;
                  }, 250);
                }
              }
            });
          });
        })
      })();
    </script>

    <script src='/learningwithwick/scripts/loading.js'></script>
</body>

</html>